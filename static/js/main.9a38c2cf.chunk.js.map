{"version":3,"sources":["components/Sidebar.module.scss","components/Player.module.scss","api/auth.js","api/user.js","api/tracks.js","api/player.js","api/playlists.js","api/search.js","store/user.js","store/player.js","store/index.js","api/index.js","assets/icons/favourites.svg","assets/icons/play.svg","assets/icons/pause.svg","assets/icons/prev.svg","assets/icons/next.svg","assets/icons/volume-down.svg","assets/icons/volume-up.svg","assets/icons/spotify.svg","components/Slider.jsx","hooks/useSpotify.js","components/Player.jsx","assets/icons/home.svg","assets/icons/logout.svg","assets/icons/search.svg","assets/icons/clock.svg","components/Button.jsx","utils.js","views/LoginPage.jsx","views/AuthCallback.jsx","components/Track.jsx","components/TracksList.jsx","routes.jsx","views/HomePage.jsx","views/FavouritesPage.jsx","views/PlaylistPage.jsx","views/SearchPage.jsx","components/Sidebar.jsx","views/App.jsx","index.js","components/TracksList.module.scss","components/Track.module.scss","views/HomePage.module.scss","views/LoginPage.module.scss","views/SearchPage.module.scss","views/App.module.scss","views/FavouritesPage.module.scss","views/PlaylistPage.module.scss","components/Slider.module.scss","components/Button.module.scss"],"names":["module","exports","completeLogin","a","params","URLSearchParams","window","location","search","code_verifier","sessionStorage","getItem","data","client_id","process","grant_type","code","get","redirect_uri","client","post","headers","response","refreshAccessToken","refreshToken","refresh_token","axios","then","res","getMe","getUserSavedTracks","limit","offset","market","saveTracks","ids","put","unsaveTracks","delete","join","checkIfSaved","transferPlayback","deviceId","device_ids","play","startPlayback","uris","catch","playPlaylist","uri","context_uri","getUserPlaylists","getPlaylist","id","getPlaylistTracks","getFeaturedPlaylists","country","locale","searchSong","query","q","type","tracks","initialState","auth","access_token","undefined","info","display_name","image","premium","slice","createSlice","name","reducers","setAccessToken","state","payload","setAuthData","setUserInfo","images","url","product","logout","actions","persistReducer","key","storage","reducer","selectAccessToken","user","selectUserInfo","duration","paused","position","current_track","timestamp","source","disallows","volume","setPlaybackState","track_window","setVolume","selectPlaybackState","player","selectPlaybackVolume","store","configureStore","userReducer","playerReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","create","baseURL","interceptors","use","error","status","dispatch","alert","Promise","reject","_path","playlists","_excluded","_extends","Object","assign","target","i","arguments","length","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgFavourites","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","SvgPlay","SvgPause","className","SvgPrev","SvgNext","SvgVolumeDown","SvgVolumeUp","Slider","value","min","max","onValueChange","step","useState","internalValue","setInternalValue","isChanging","setIsChanging","useEffect","clsx","s","slider","onChange","event","val","currentTarget","onPointerUp","onPointerDown","waitForSpotifyWebPlaybackSDKToLoad","resolve","Spotify","onSpotifyWebPlaybackSDKReady","Player","accessToken","useSelector","playbackState","useDispatch","useRef","isReady","setIsReady","setupPlayer","useCallback","current","sdk","getOAuthToken","callback","on","message","connect","addListener","device_id","api","removeListener","console","disconnect","useSpotify","queryClient","useQueryClient","currentTrackId","useMemo","trackSaved","useQuery","enabled","saveTrack","useMutation","onSuccess","invalidateQueries","unsaveTrack","handleStateChanged","useInterval","getCurrentState","container","seekSlider","seek","track","cover","src","album","alt","trackInfo","trackName","tractArtist","artists","map","artist","favourite","saved","onClick","mutate","playbackControl","prev","previousTrack","disabled","skipping_prev","togglePlay","next","nextTrack","skipping_next","volumeControl","volumedown","vol","Number","parseFloat","volumeup","SvgSpotify","width","height","_path2","SvgHome","SvgLogout","SvgSearch","Button","children","button","base64url","bytes","btoa","String","fromCharCode","replace","generateCodeChallenge","codeVerifierBytes","TextEncoder","encode","crypto","subtle","digest","hashBuffer","Uint8Array","LoginPage","handleClick","size","getRandomValues","response_type","code_challenge_method","code_challenge","scope","setItem","appHeader","logo","appTitle","AuthCallback","newLocation","URL","history","replaceState","SvgClock","Track","index","dateAdded","added","formatDistanceToNowStrict","Date","addSuffix","pl","format","duration_ms","TracksList","isLoading","changeOffset","total","onTrackClick","isAltTracks","currentPage","handleChangePage","idx","Math","ceil","header","center","clockIcon","loadingContainer","loading","item","added_at","pagination","page","Array","from","_","urls","authorize","home","favourites","playlist","guestRoutes","path","component","exact","to","routes","pageTitle","loadingWrapper","featuredPlaylists","items","reverse","setOffset","keepPreviousData","isFetching","isPreviousData","trackIdx","findIndex","useParams","playlistInfo","setValue","useDebounce","searchBar","placeholder","e","navigationItems","text","icon","HomeIcon","SearchIcon","FavouritesIcon","Sidebar","userInfo","sidebar","navigation","Icon","activeClassName","active","App","setLoading","useLayoutEffect","defaults","Authorization","updateAuthHeader","renderRoutes","QueryClient","defaultOptions","queries","retry","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a38c2cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__31LGo\",\"appHeader\":\"Sidebar_appHeader__1uUAu\",\"logo\":\"Sidebar_logo__28ufH\",\"appTitle\":\"Sidebar_appTitle__3D1Jx\",\"user\":\"Sidebar_user__2d0Hu\",\"image\":\"Sidebar_image__2Zult\",\"name\":\"Sidebar_name__1FqkM\",\"navigation\":\"Sidebar_navigation__3uV9x\",\"item\":\"Sidebar_item__2Yiql\",\"icon\":\"Sidebar_icon__QkdFd\",\"text\":\"Sidebar_text__1awby\",\"active\":\"Sidebar_active__IkhmV\",\"playlists\":\"Sidebar_playlists__3H6_Q\",\"playlist\":\"Sidebar_playlist__jaPt2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Player_container__3g3hc\",\"seekSlider\":\"Player_seekSlider__2dLyy\",\"track\":\"Player_track__1ehxC\",\"cover\":\"Player_cover__dt1a1\",\"trackInfo\":\"Player_trackInfo__1J98m\",\"trackName\":\"Player_trackName__230Uy\",\"tractArtist\":\"Player_tractArtist__3aBcm\",\"favourite\":\"Player_favourite__Cxu9u\",\"saved\":\"Player_saved__2NbY2\",\"playbackControl\":\"Player_playbackControl__1BDD2\",\"prev\":\"Player_prev__1xyV_\",\"play\":\"Player_play__8qKQc\",\"next\":\"Player_next__3Wv05\",\"pause\":\"Player_pause__38q4j\",\"volumeControl\":\"Player_volumeControl__2yy63\",\"volumedown\":\"Player_volumedown__21GUy\",\"volumeup\":\"Player_volumeup__3TVeI\"};","import { client } from \"api\";\nimport axios from \"axios\";\n\nexport const completeLogin = async () => {\n  const params = new URLSearchParams(window.location.search);\n  const code_verifier = window.sessionStorage.getItem('code_verifier');\n\n  const data = new URLSearchParams({\n    client_id: process.env.REACT_APP_SPOTIFY_CLIENT_ID,\n    grant_type: 'authorization_code',\n    code: params.get('code'),\n    redirect_uri: process.env.REACT_APP_SPOTIFY_REDIRECT_URI,\n    code_verifier: code_verifier,\n  });\n\n  const response = await client.post('https://accounts.spotify.com/api/token', data, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n  return response.data;\n}\n\nexport const refreshAccessToken = async (refreshToken) => {\n  const data = new URLSearchParams({\n    client_id: process.env.REACT_APP_SPOTIFY_CLIENT_ID,\n    grant_type: 'refresh_token',\n    refresh_token: refreshToken\n  });\n\n  return axios.post('https://accounts.spotify.com/api/token', data).then(res => res.data);\n}","import { client } from \"api\";\n\nexport const getMe = async () => (\n  client.get('me').then(res => res.data)\n);","import { client } from \"api\";\n\nexport const getUserSavedTracks = async ({ limit = 20, offset = 0, market = 'from_token' }) => (\n  client.get('me/tracks', { params: { limit, offset, market } }).then(res => res.data)\n)\n\nexport const saveTracks = async ({ ids }) => (\n  client.put('me/tracks', ids).then(res => res.data)\n)\n\nexport const unsaveTracks = async ({ ids }) => (\n  client.delete('me/tracks', { params: { ids: ids.join(',') } }).then(res => res.data)\n)\n\nexport const checkIfSaved = async ({ ids }) => (\n  client.get('me/tracks/contains', { params: { ids: ids.join(',') } }).then(res => res.data)\n)","import { client } from \"api\";\n\nexport const transferPlayback = async ({ deviceId }) => (\n  client.put('me/player', {\n    device_ids: [deviceId],\n    play: false\n  }).then(res => res.data)\n)\n\nexport const startPlayback = async ({ uris, offset }) => (\n  client.put('me/player/play', {\n    uris, offset\n  }).then(res => res.data).catch(() => {})\n)\n\nexport const playPlaylist = async ({ uri, offset }) => (\n  client.put('me/player/play', { context_uri: uri, offset }).then(res => res.data).catch(() => {})\n)","import { client } from \"api\";\n\nexport const getUserPlaylists = async ({ limit = 20, offset = 0 }) => (\n  client.get('me/playlists', { params: { limit, offset } }).then(res => res.data)\n);\n\nexport const getPlaylist = async ({ id }) => (\n  client.get(`playlists/${id}`).then(res => res.data)\n);\n\nexport const getPlaylistTracks = async ({ id, limit = 20, offset = 0 }) => (\n  client.get(`playlists/${id}/tracks`, { params: { limit, offset } }).then(res => res.data)\n);\n\nexport const getFeaturedPlaylists = async ({ limit = 20, offset = 0 }) => (\n  client.get('browse/featured-playlists', {\n    params: { limit, offset, country: 'PL', locale: 'pl_PL' }\n  }).then(res => res.data)\n);","import { client } from \"api\";\n\nexport const searchSong = async ({ limit = 20, offset = 0, market = 'from_token', query }) => (\n  client.get('search', {\n    params: { limit, offset, market, q: query, type: 'track' }\n  }).then(res => res.data.tracks)\n);","import { createSlice } from \"@reduxjs/toolkit\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nconst initialState = {\n  auth: {\n    access_token: undefined,\n    refresh_token: undefined,\n  },\n  info: {\n    display_name: undefined,\n    image: undefined,\n    premium: false\n  }\n}\n\nconst slice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setAccessToken: (state, { payload }) => {\n      state.auth.access_token = payload;\n    },\n    setAuthData: (state, { payload }) => {\n      state.auth.access_token = payload.access_token;\n      state.auth.refresh_token = payload.refresh_token;\n    },\n    setUserInfo: (state, { payload }) => {\n      state.info = {\n        display_name: payload.display_name,\n        image: payload.images?.[0]?.url,\n        premium: payload.product === 'premium'\n      }\n    },\n    logout: (state) => {\n      state.auth.access_token = undefined;\n      state.auth.refresh_token = undefined;\n      state.info = undefined;\n    }\n  }\n});\n\nexport const {\n  setAccessToken,\n  setAuthData,\n  setUserInfo,\n  logout\n} = slice.actions;\n\nexport default persistReducer({\n  key: 'user',\n  storage: storage\n}, slice.reducer);\n\nexport const selectAccessToken = (state) => state.user.auth.access_token;\nexport const selectUserInfo = (state) => state.user.info;","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  state: {\n    duration: 0,\n    paused: true,\n    position: 0,\n    current_track: undefined,\n    timestamp: 0,\n    source: undefined,\n    disallows: {}\n  },\n  volume: 0.5\n}\n\nconst slice = createSlice({\n  name: 'player',\n  initialState,\n  reducers: {\n    setPlaybackState: (state, { payload }) => {\n      if (payload.timestamp > state.state.timestamp) {\n        if (payload.duration !== undefined) state.state.duration = payload.duration;\n        state.state.paused = payload.paused;\n        if (payload.position !== undefined) state.state.position = payload.position;\n        state.state.current_track = payload.track_window.current_track;\n        state.state.timestamp = payload.timestamp;\n        state.state.disallows = payload.disallows;\n      }\n    },\n    setVolume: (state, { payload }) => {\n      state.volume = payload;\n    }\n  }\n});\n\nexport const {\n  setPlaybackState,\n  setVolume\n} = slice.actions;\n\nexport default slice.reducer;\n\nexport const selectPlaybackState = (state) => state.player.state;\nexport const selectPlaybackVolume = (state) => state.player.volume;","import { configureStore } from \"@reduxjs/toolkit\";\nimport { FLUSH, PAUSE, PERSIST, PURGE, REGISTER, REHYDRATE, persistStore } from \"redux-persist\";\nimport userReducer from 'store/user';\nimport playerReducer from 'store/player';\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer,\n    player: playerReducer\n  },\n  middleware: (getDefaultMiddleware) => (\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [\n          FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER\n        ]\n      }\n    })\n  )\n});\n\nexport const persistor = persistStore(store);","import axios from \"axios\";\nimport * as auth from './auth';\nimport * as user from './user';\nimport * as tracks from './tracks';\nimport * as player from './player';\nimport * as playlists from './playlists';\nimport * as search from './search';\nimport { store } from '../store';\nimport { setAccessToken } from \"store/user\";\n\nexport const client = axios.create({\n  baseURL: 'https://api.spotify.com/v1',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const updateAuthHeader = (accessToken?: string) => {\n  if (accessToken) {\n    client.defaults.headers.Authorization = `Bearer ${accessToken}`;\n  } else delete client.defaults.headers.Authorization;\n};\n\nclient.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    if (error.response && error.response.status === 401) {\n      store.dispatch(setAccessToken(''));\n    }\n    else if (error.response && error.response.status === 403) {\n      alert('Ta funkcja jest dostępna tylko dla użytkowników z kontem premium');\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  auth,\n  user,\n  tracks,\n  player,\n  playlists,\n  search\n};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFavourites(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 23 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.291 2.612a5.5 5.5 0 00-7.78 0l-1.06 1.06-1.06-1.06a5.501 5.501 0 00-7.78 7.78l1.06 1.06 7.78 7.78 7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78v0z\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFavourites);\nexport default __webpack_public_path__ + \"static/media/favourites.5f6ea71f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 38 38\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.917 4.75L30.083 19 7.917 33.25V4.75z\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.9f31f21a.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 1,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"prefix__feather prefix__feather-pause\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 4h4v16H6zM14 4h4v16h-4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.ae7baee5.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPrev(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 52 52\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.833 36.833L13 26l10.833-10.833M39 36.833L28.167 26 39 15.167\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPrev);\nexport default __webpack_public_path__ + \"static/media/prev.309133d8.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNext(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 52 52\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.167 36.833L39 26 28.167 15.167M13 36.833L23.833 26 13 15.167\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNext);\nexport default __webpack_public_path__ + \"static/media/next.6133da93.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVolumeDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 5L6 9H2v6h4l5 4V5zM15.54 8.46a5 5 0 010 7.07\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVolumeDown);\nexport default __webpack_public_path__ + \"static/media/volume-down.c52a6fcb.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgVolumeUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 22 17\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 1.07l-5 4H1v6h4l5 4v-14zM18.07 1a10 10 0 010 14.14M14.54 4.53a5 5 0 010 7.07\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgVolumeUp);\nexport default __webpack_public_path__ + \"static/media/volume-up.a5d33cfd.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSpotify(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 66,\n    height: 66,\n    viewBox: \"0 0 66 66\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M32.9998 0C14.7749 0 0 14.7749 0 33.0002C0 51.2263 14.7749 66 32.9998 66C51.2267 66 66 51.2263 66 33.0002C66 14.776 51.2267 0.00157627 32.9994 0.00157627L32.9998 0ZM48.1333 47.5958C47.5422 48.5652 46.2733 48.8725 45.3039 48.2775C37.5559 43.5447 27.8021 42.4729 16.3153 45.0974C15.2084 45.3496 14.105 44.656 13.8528 43.5487C13.5994 42.4413 14.2902 41.3379 15.3999 41.0857C27.9704 38.2126 38.7531 39.4503 47.4516 44.7663C48.421 45.3614 48.7283 46.6263 48.1333 47.5958ZM52.1724 38.609C51.4276 39.8208 49.8435 40.203 48.6338 39.4582C39.7635 34.0047 26.2421 32.4256 15.7502 35.6105C14.3895 36.0215 12.9524 35.2547 12.5394 33.8963C12.1296 32.5356 12.8968 31.1012 14.2551 30.6874C26.2397 27.0509 41.1387 28.8124 51.3252 35.0722C52.535 35.817 52.9172 37.4012 52.1724 38.6094V38.609ZM52.5192 29.2522C41.8835 22.9349 24.336 22.354 14.1814 25.436C12.5508 25.9306 10.8264 25.01 10.3323 23.3794C9.83811 21.7479 10.7578 20.0247 12.3897 19.5289C24.0464 15.9902 43.4243 16.6739 55.6693 23.9433C57.1392 24.8138 57.6199 26.7081 56.749 28.1728C55.8821 29.6396 53.9827 30.1231 52.5208 29.2522H52.5192Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpotify);\nexport default __webpack_public_path__ + \"static/media/spotify.69f843e5.svg\";\nexport { ForwardRef as ReactComponent };","import s from './Slider.module.scss';\nimport propTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useEffect, useState } from 'react';\n\nexport const Slider = ({\n  className, value, min, max, onValueChange, step\n}) => {\n  const [internalValue, setInternalValue] = useState(value);\n  const [isChanging, setIsChanging] = useState(false);\n\n  const handleChange = (event) => {\n    const val = event.currentTarget.value;\n    setInternalValue(val);\n  }\n\n  const handlePointerUp = (event) => {\n    const val = event.currentTarget.value;\n    onValueChange(val);\n    setIsChanging(false);\n  }\n\n  const handlePointerDown = () => {\n    setIsChanging(true);\n  }\n\n  useEffect(() => {\n    if (internalValue !== value && !isChanging) setInternalValue(value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value, internalValue]);\n\n  return (\n    <input\n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      className={clsx(s.slider, className)}\n      value={internalValue}\n      onChange={handleChange}\n      onPointerUp={handlePointerUp}\n      onPointerDown={handlePointerDown}\n    />\n  );\n}\n\nSlider.propTypes = {\n  className: propTypes.string,\n  value: propTypes.number.isRequired,\n  min: propTypes.number,\n  max: propTypes.number,\n  step: propTypes.number,\n  onValueChange: propTypes.func.isRequired\n}","import api from 'api';\nimport { useEffect, useCallback, useRef, useState } from 'react';\n\nexport const waitForSpotifyWebPlaybackSDKToLoad = async () => (\n  new Promise((resolve) => {\n    if (window.Spotify) resolve(window.Spotify);\n    else {\n      window.onSpotifyWebPlaybackSDKReady = () => {\n        resolve(window.Spotify);\n      };\n    }\n  })\n);\n\nexport const useSpotify = (accessToken) => {\n  const player = useRef(null);\n  const [isReady, setIsReady] = useState(false);\n\n  const setupPlayer = useCallback(async () => {\n    try {\n      if (!player.current && accessToken) {\n        const sdk = await waitForSpotifyWebPlaybackSDKToLoad();\n\n        player.current = new sdk.Player({\n          name: 'spot-aint',\n          getOAuthToken: (callback: (token: string) => void) => callback(accessToken),\n          volume: 0.5\n        });\n\n        player.current.on('initialization_error', ({ message }: any) => { alert(message); });\n        player.current.on('authentication_error', ({ message }: any) => { alert(message); });\n        player.current.on('account_error', () => { alert('Odtwarzanie muzyki jest dostępne tylko dla użytkowników z kontem premium'); });\n        player.current.on('playback_error', ({ message }: any) => { alert(message); });\n\n        const connected = await player.current.connect();\n\n        if (connected) {\n          player.current.addListener('ready', ({ device_id }: any) => {\n            setIsReady(true);\n            api.player.transferPlayback({ deviceId: device_id });\n            player.current.removeListener('ready');\n          });\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }, [accessToken]);\n\n  useEffect(() => {\n    setupPlayer();\n\n    return () => {\n      if (player.current) player.current.disconnect();\n    }\n  }, [setupPlayer]);\n\n  return {\n    player,\n    isReady\n  }\n};\n","import clsx from 'clsx';\nimport propTypes from 'prop-types';\nimport { ReactComponent as FavouritesIcon } from 'assets/icons/favourites.svg';\nimport { ReactComponent as PlayIcon } from 'assets/icons/play.svg';\nimport { ReactComponent as PauseIcon } from 'assets/icons/pause.svg';\nimport { ReactComponent as PrevIcon } from 'assets/icons/prev.svg';\nimport { ReactComponent as NextIcon } from 'assets/icons/next.svg';\nimport { ReactComponent as VolumeDownIcon } from 'assets/icons/volume-down.svg';\nimport { ReactComponent as VolumeUpIcon } from 'assets/icons/volume-up.svg';\nimport s from './Player.module.scss';\nimport { Slider } from './Slider';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPlaybackState, selectPlaybackVolume, setPlaybackState, setVolume } from 'store/player';\nimport { useSpotify } from 'hooks/useSpotify';\nimport useInterval from '@use-it/interval';\nimport { selectAccessToken } from 'store/user';\nimport api from 'api';\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\n\nexport const Player = ({ className }) => {\n  const accessToken = useSelector(selectAccessToken);\n  const playbackState = useSelector(selectPlaybackState);\n  const volume = useSelector(selectPlaybackVolume);\n  const dispatch = useDispatch();\n  const { player } = useSpotify(accessToken);\n  const queryClient = useQueryClient();\n\n  const currentTrackId = useMemo(() => {\n    return playbackState.current_track ? playbackState.current_track.id : undefined;\n  }, [playbackState.current_track]);\n\n  const { data: trackSaved } = useQuery(\n    ['currentSaved', { id: currentTrackId }],\n    () => api.tracks.checkIfSaved({ ids: [ currentTrackId ]}).then(tracks => tracks[0]),\n    { enabled: !!currentTrackId }\n  );\n\n  const saveTrack = useMutation(api.tracks.saveTracks, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('currentSaved');\n      queryClient.invalidateQueries('saved');\n    }\n  });\n\n  const unsaveTrack = useMutation(api.tracks.unsaveTracks, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('currentSaved');\n      queryClient.invalidateQueries('saved');\n    }\n  });\n\n  const handlePositionChange = (position) => {\n    player.current.seek(position);\n  }\n\n  const handleTogglePlay = () => {\n    player.current.togglePlay();\n  }\n\n  const handlePrevClick = () => {\n    player.current.previousTrack();\n  }\n\n  const handleNextClick = () => {\n    player.current.nextTrack();\n  }\n\n  const handleToggleFavourite = () => {\n    (trackSaved ? unsaveTrack : saveTrack).mutate({ ids: [currentTrackId] });\n  }\n\n  const handleVolumeChange = (volume) => {\n    const vol = Number.parseFloat(volume);\n    dispatch(setVolume(vol));\n    player.current.setVolume(vol);\n  }\n\n  useEffect(() => {\n    const handleStateChanged = (state) => {\n      if (state) {\n        if (!state.paused) {\n          delete state.position;\n          delete state.duration;\n        }\n        dispatch(setPlaybackState(state));\n      }\n    }\n\n    if (player.current) player.current.addListener('player_state_changed', handleStateChanged);\n\n    return () => {\n      if (player.current) {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        player.current.removeListener('player_state_changed', handleStateChanged);\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [player.current]);\n\n  useInterval(() => {\n    if (player.current) {\n      player.current.getCurrentState().then((state) => {\n        if (state) dispatch(setPlaybackState(state));\n      });\n    }\n  }, playbackState.paused === true ? null : 1000);\n\n  return (\n    <div className={clsx(className, s.container)}>\n      {playbackState.current_track && (\n          <Slider\n            className={s.seekSlider}\n            min={0}\n            max={playbackState.duration}\n            value={playbackState.position}\n            onValueChange={handlePositionChange}\n          />\n      )}\n\n      <div className={s.track}>\n        {playbackState.current_track && (\n          <>\n            <img className={s.cover} src={playbackState.current_track.album.images[0].url} alt={playbackState.current_track.name} />\n            <div className={s.trackInfo}>\n              <p className={s.trackName}>{playbackState.current_track.name}</p>\n              <p className={s.tractArtist}>\n                {playbackState.current_track.artists.map(artist => artist.name).join(', ')}\n              </p>\n            </div>\n            \n            {trackSaved !== undefined && (\n              <FavouritesIcon className={clsx(s.favourite, { [s.saved]: trackSaved })} onClick={handleToggleFavourite} />\n            )}\n          </>\n        )}\n      </div>\n\n      {playbackState.current_track && (\n        <div className={s.playbackControl}>\n          <button className={s.prev} onClick={handlePrevClick} disabled={playbackState.disallows.skipping_prev}>\n            <PrevIcon />\n          </button>\n\n          <button className={s.play} onClick={handleTogglePlay}>\n            {playbackState.paused ? <PlayIcon /> : <PauseIcon />}\n          </button>\n          \n          <button className={s.next} onClick={handleNextClick} disabled={playbackState.disallows.skipping_next}>\n            <NextIcon />\n          </button>\n        </div>\n      )}\n\n      <div className={s.volumeControl}>\n        <VolumeDownIcon className={s.volumedown} />\n        <Slider min={0} max={1} step={0.05} value={volume} onValueChange={handleVolumeChange} />\n        <VolumeUpIcon className={s.volumeup} />\n      </div>\n    </div>\n  )\n}\n\nPlayer.propTypes = {\n  className: propTypes.string,\n}","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHome(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 22V12h6v10\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHome);\nexport default __webpack_public_path__ + \"static/media/home.c72b3a47.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogout(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogout);\nexport default __webpack_public_path__ + \"static/media/logout.0aab77a2.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 19a8 8 0 100-16 8 8 0 000 16zM21 21l-4.35-4.35\",\n    stroke: \"#fff\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.622a6cd6.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 22 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 21c5.523 0 10-4.477 10-10S16.523 1 11 1 1 5.477 1 11s4.477 10 10 10z\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 5v6l4 2\",\n    stroke: \"currentColor\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClock);\nexport default __webpack_public_path__ + \"static/media/clock.7fe7d98f.svg\";\nexport { ForwardRef as ReactComponent };","import clsx from 'clsx';\nimport s from './Button.module.scss';\nimport propTypes from 'prop-types';\n\nexport const Button = ({ children, className, onClick }) => (\n  <button className={clsx(className, s.button)} onClick={onClick}>\n    {children}\n  </button>\n)\n\nButton.propTypes = {\n  className: propTypes.string,\n  onClick: propTypes.func\n}","export const randomBytes = (size) => {\n  return crypto.getRandomValues(new Uint8Array(size))\n}\n\nexport const base64url = (bytes) => {\n  return btoa(String.fromCharCode(...bytes))\n    .replace(/=/g, '')\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n}\n\nexport const generateCodeChallenge = async (code_verifier) => {\n  const codeVerifierBytes = new TextEncoder().encode(code_verifier)\n  const hashBuffer = await crypto.subtle.digest('SHA-256', codeVerifierBytes)\n  return base64url(new Uint8Array(hashBuffer))\n}","import { ReactComponent as SpotifyLogo } from 'assets/icons/spotify.svg';\nimport { Button } from 'components/Button';\nimport { generateCodeChallenge, base64url, randomBytes } from 'utils';\nimport s from './LoginPage.module.scss';\n\nexport const LoginPage = () => {\n  const handleClick = async () => {\n    const code_verifier = base64url(randomBytes(96));\n\n    const params = new URLSearchParams({\n      client_id: process.env.REACT_APP_SPOTIFY_CLIENT_ID,\n      response_type: 'code',\n      redirect_uri: process.env.REACT_APP_SPOTIFY_REDIRECT_URI,\n      code_challenge_method: 'S256',\n      code_challenge: await generateCodeChallenge(code_verifier),\n      scope: ['streaming', 'user-read-email', 'user-read-private', 'user-library-read', 'user-library-modify'].join(' ')\n    });\n\n    window.sessionStorage.setItem('code_verifier', code_verifier);\n\n    window.location = `https://accounts.spotify.com/authorize?${params}`;\n  }\n\n  return (\n    <div className={s.container}>\n      <div className={s.appHeader}>\n        <SpotifyLogo className={s.logo} />\n        <h1 className={s.appTitle}>Spotify AINT</h1>\n      </div>\n  \n      <p className={s.info}>\n        Aby móc korzystać z aplikacji musisz się zalogować\n      </p>\n  \n      <Button onClick={handleClick}>\n        Zaloguj się\n      </Button>\n    </div>\n  );\n}","import api from 'api';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setAuthData } from 'store/user';\n\nexport const AuthCallback = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    api.auth.completeLogin().then(res => {\n      const { access_token, refresh_token } = res;\n      dispatch(setAuthData({ access_token, refresh_token }));\n    });\n\n    const newLocation = new URL(window.location);\n    newLocation.search = '';\n    window.history.replaceState({}, '', newLocation);\n  }, [dispatch]);\n\n  return <></>\n}","import s from './Track.module.scss';\nimport propTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { format, formatDistanceToNowStrict } from 'date-fns';\nimport { pl } from 'date-fns/locale';\n\nexport const Track = ({ className, track, index, dateAdded, onClick }) => {\n  return (\n    <div className={clsx(className, s.container, { [s.alt]: !dateAdded })} onClick={onClick}>\n      <p className={s.index}>{index + 1}</p>\n      \n      <div className={s.title}>\n        <img src={track.album.images?.[0]?.url} alt={track.name} className={s.cover} />\n        <p className={s.name}>{track.name}</p>\n        <p className={s.artists}>{track.artists.map(artist => artist.name).join(', ')}</p>\n      </div>\n      \n      <div className={s.album}>{track.album.name}</div>\n      \n      {dateAdded && (\n        <p className={s.added}>\n          {formatDistanceToNowStrict(new Date(dateAdded), {\n            addSuffix: true,\n            locale: pl\n          })}\n        </p>\n      )}\n      \n      <p className={s.duration}>\n        {format(new Date(track.duration_ms), 'mm:ss')}\n      </p>\n    </div>\n  )\n}\n\nTrack.propTypes = {\n  className: propTypes.string,\n  track: propTypes.object.isRequired,\n  index: propTypes.number.isRequired,\n  dateAdded: propTypes.string,\n  onClick: propTypes.func\n}","import s from './TracksList.module.scss';\nimport propTypes from 'prop-types';\nimport { ReactComponent as ClockIcon } from 'assets/icons/clock.svg';\nimport { Track } from './Track';\nimport clsx from 'clsx';\nimport { useMemo } from 'react';\n\nexport const TracksList = ({\n  className, tracks, isLoading, offset = 0, limit, changeOffset, total, onTrackClick, isAltTracks\n}) => {\n  const currentPage = useMemo(() => (offset / limit) + 1, [offset, limit]);\n\n  const handleChangePage = (idx) => {\n    if (idx >= 0 && idx <= Math.ceil(total / limit) - 1) {\n      changeOffset(idx * limit);\n    }\n  }\n\n  return (\n    <div className={clsx(className, s.container, { [s.alt]: isAltTracks })}>\n      <div className={s.header}>\n        <span className={s.center}>#</span>\n        <span>Tytuł</span>\n        <span>Album</span>\n        {!isAltTracks && <span>Data dodania</span>}\n        <span className={s.center}><ClockIcon className={s.clockIcon} /></span>\n      </div>\n\n      {isLoading && (\n        <div className={s.loadingContainer}>\n          <p className={s.loading}>Ładowanie...</p>\n        </div>\n      )}\n\n      <div className={s.tracks}>\n        {tracks.length > 0 && tracks.map((item, index) => (\n          isAltTracks ? (\n            <Track\n              track={item}\n              key={item.id}\n              index={index + offset}\n              onClick={() => onTrackClick(item)}\n            />\n          ) : (\n            <Track\n              track={item.track}\n              key={item.track.id}\n              index={index + offset}\n              dateAdded={item.added_at}\n              onClick={() => onTrackClick(item.track)}\n            />\n          )\n        ))}\n      </div>\n\n      {!isLoading && changeOffset && (\n        <div className={s.pagination}>\n          <button\n            type='button'\n            className={s.page}\n            onClick={() => handleChangePage(currentPage - 2)}\n          >\n            {\"<\"}\n          </button>\n\n          {Array.from({ length: Math.ceil(total / limit) }).map((_, idx) => (\n            <button\n              key={idx}\n              type='button'\n              className={clsx(s.page, { [s.current]: idx+1 === currentPage })}\n              onClick={() => handleChangePage(idx)}\n            >\n              {idx + 1}\n            </button>\n          ))}\n\n          <button\n            type='button'\n            className={s.page}\n            onClick={() => handleChangePage(currentPage)}\n          >\n            {\">\"}\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nTracksList.propTypes = {\n  className: propTypes.string,\n  tracks: propTypes.array.isRequired,\n  isLoading: propTypes.bool,\n  limit: propTypes.number.isRequired,\n  total: propTypes.number.isRequired,\n  offset: propTypes.number,\n  changeOffset: propTypes.func,\n  onTrackClick: propTypes.func.isRequired,\n  isAltTracks: propTypes.bool\n}","import { LoginPage } from \"views/LoginPage\"\nimport { AuthCallback } from 'views/AuthCallback'\nimport { Redirect } from \"react-router-dom\"\nimport { HomePage } from \"views/HomePage\"\nimport { FavouritesPage } from \"views/FavouritesPage\"\nimport { PlaylistPage } from \"views/PlaylistPage\"\nimport { SearchPage } from \"views/SearchPage\"\n\nexport const urls = {\n  authorize: '/',\n  home: '/',\n  favourites: '/favourites',\n  playlist: '/playlist/:id',\n  search: '/search'\n}\n\nexport const guestRoutes = [\n  {\n    path: urls.authorize,\n    component: () => {\n      const params = new URLSearchParams(window.location.search);\n      return params.get('code') ? <AuthCallback /> : <LoginPage />\n    }\n  },\n  {\n    path: urls.home,\n    exact: true,\n    component: LoginPage\n  },\n  {\n    component: () => <Redirect to={urls.home} />\n  }\n]\n\nexport const routes = [\n  {\n    path: urls.home,\n    exact: true,\n    component: HomePage\n  },\n  {\n    path: urls.favourites,\n    component: FavouritesPage\n  },\n  {\n    path: urls.playlist,\n    component: PlaylistPage\n  },\n  {\n    path: urls.search,\n    component: SearchPage\n  },\n  {\n    component: () => <Redirect to={urls.home} />\n  }\n]","import api from \"api\";\nimport { reverse } from \"named-urls\";\nimport { useQuery } from \"react-query\";\nimport { NavLink } from \"react-router-dom\";\nimport { urls } from \"routes\";\nimport s from './HomePage.module.scss';\n\nexport const HomePage = () => {\n  const { data, isLoading } = useQuery(\n    ['featuredPlaylists'],\n    () => api.playlists.getFeaturedPlaylists({ limit: 50 }),\n  );\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.pageTitle}>Polecane</h1>\n\n      {isLoading && (\n        <div className={s.loadingWrapper}>\n          <p className={s.loading}>Ładowanie...</p>\n        </div>\n      )}\n      \n      <div className={s.featuredPlaylists}>\n        {data && data.playlists.items.map(playlist => (\n          <NavLink className={s.playlist} to={reverse(urls.playlist, { id: playlist.id })} key={playlist.id}>\n            <img src={playlist.images?.[0]?.url} className={s.image} alt={playlist.name} />\n            <p className={s.name}>{playlist.name}</p>\n          </NavLink>\n        ))}\n      </div>\n    </div>\n  );\n}","import api from \"api\";\nimport { TracksList } from \"components/TracksList\";\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport s from './FavouritesPage.module.scss';\n\nconst PER_PAGE = 7;\n\nexport const FavouritesPage = () => {\n  const [offset, setOffset] = useState(0);\n\n  const { data, isFetching, isPreviousData, isLoading } = useQuery(\n    ['saved', { limit: PER_PAGE, offset }],\n    () => api.tracks.getUserSavedTracks({ limit: PER_PAGE, offset }),\n    { keepPreviousData: true }\n  );\n\n  const handleTrackClick = (track) => {\n    const trackIdx = data.items.findIndex(item => item.track.uri === track.uri);\n    const uris = data.items.map(item => item.track.uri);\n\n    api.player.startPlayback({\n      uris,\n      offset: { position: trackIdx }\n    });\n  }\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.pageTitle}>Zapisane utwory</h1>\n      \n      <TracksList\n        tracks={(data && !isPreviousData) ? data.items : []}\n        isLoading={isLoading || (isFetching && isPreviousData)}\n        limit={data ? data.limit : 0}\n        total={data ? data.total : 0}\n        offset={offset}\n        changeOffset={setOffset}\n        onTrackClick={handleTrackClick}\n      />\n    </div>\n  );\n}","import api from \"api\";\nimport { TracksList } from \"components/TracksList\";\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router-dom\";\nimport s from './PlaylistPage.module.scss';\n\nconst PER_PAGE = 7;\n\nexport const PlaylistPage = () => {\n  const [offset, setOffset] = useState(0);\n  const { id } = useParams();\n\n  const { data: tracks, isFetching, isPreviousData, isLoading } = useQuery(\n    ['playlistTracks', { id, limit: PER_PAGE, offset }],\n    () => api.playlists.getPlaylistTracks({ id, limit: PER_PAGE, offset }),\n    { keepPreviousData: true }\n  );\n\n  const { data: playlistInfo } = useQuery(\n    ['playlist', { id }],\n    () => api.playlists.getPlaylist({ id }),\n  );\n\n  const handleTrackClick = (track) => {\n    const trackIdx = tracks.items.findIndex(item => item.track.uri === track.uri);\n\n    api.player.playPlaylist({\n      uri: playlistInfo.uri,\n      offset: { position: trackIdx + offset }\n    });\n  }\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.pageTitle}>\n        {playlistInfo ? playlistInfo.name : ' '}\n      </h1>\n      \n      <TracksList\n        tracks={(tracks && !isPreviousData) ? tracks.items : []}\n        isLoading={isLoading || (isFetching && isPreviousData)}\n        limit={tracks ? tracks.limit : 0}\n        total={tracks ? tracks.total : 0}\n        offset={offset}\n        changeOffset={setOffset}\n        onTrackClick={handleTrackClick}\n      />\n    </div>\n  );\n}","import api from \"api\";\nimport { TracksList } from \"components/TracksList\";\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport s from './SearchPage.module.scss';\nimport { useDebounce } from 'use-debounce';\n\nconst PER_PAGE = 25;\n\nexport const SearchPage = () => {\n  const [value, setValue] = useState('');\n  const [query] = useDebounce(value, 1000);\n\n  const { data: tracks, isFetching, isPreviousData, isLoading } = useQuery(\n    ['search', { query, limit: PER_PAGE }],\n    () => api.search.searchSong({ query, limit: PER_PAGE }),\n    { enabled: query.length > 0 }\n  );\n\n  const handleTrackClick = (track) => {\n    const trackIdx = tracks.items.findIndex(item => item.uri === track.uri);\n    const uris = tracks.items.map(item => item.uri);\n    \n    api.player.startPlayback({\n      uris,\n      offset: { position: trackIdx }\n    });\n  }\n\n  return (\n    <div className={s.container}>\n      <h1 className={s.pageTitle}>Wyszukiwanie</h1>\n\n      <input\n        type=\"search\"\n        className={s.searchBar}\n        placeholder=\"Podaj nazwę utworu...\"\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n      />\n      \n      <TracksList\n        tracks={(tracks && !isPreviousData) ? tracks.items : []}\n        isLoading={isLoading || (isFetching && isPreviousData)}\n        limit={tracks ? tracks.limit : 0}\n        total={tracks ? tracks.total : 0}\n        onTrackClick={handleTrackClick}\n        isAltTracks={true}\n      />\n    </div>\n  );\n}","import s from './Sidebar.module.scss';\nimport { ReactComponent as SpotifyLogo } from 'assets/icons/spotify.svg';\nimport { ReactComponent as HomeIcon } from 'assets/icons/home.svg';\nimport { ReactComponent as LogoutIcon } from 'assets/icons/logout.svg';\nimport { ReactComponent as FavouritesIcon } from 'assets/icons/favourites.svg';\nimport { ReactComponent as SearchIcon } from 'assets/icons/search.svg';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, selectUserInfo } from 'store/user';\nimport { NavLink } from 'react-router-dom';\nimport { urls } from 'routes';\nimport propTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useQuery } from 'react-query';\nimport api from 'api';\nimport { reverse } from 'named-urls';\n\nconst navigationItems = [\n  { text: 'Strona główna', icon: HomeIcon, path: urls.home },\n  { text: 'Wyszukiwanie', icon: SearchIcon, path: urls.search },\n  { text: 'Ulubione', icon: FavouritesIcon, path: urls.favourites },\n];\n\nexport const Sidebar = ({ className }) => {\n  const userInfo = useSelector(selectUserInfo);\n  const dispatch = useDispatch();\n\n  const { data: playlists } = useQuery(\n    ['playlists'],\n    () => api.playlists.getUserPlaylists({}),\n  );\n\n  const handleLogoutClick = () => {\n    dispatch(logout());\n  }\n\n  return (\n    <div className={clsx(s.sidebar, className)}>\n      <div className={s.appHeader}>\n        <SpotifyLogo className={s.logo} />\n        <p className={s.appTitle}>Spotify AINT</p>\n      </div>\n\n      <div className={s.user}>\n        {userInfo.images && <img src={userInfo.image} className={s.image} alt={userInfo.display_name} />}\n        <p className={s.name}>{userInfo.display_name}</p>\n      </div>\n\n      <div className={s.navigation}>\n        {navigationItems.map(({ text, icon: Icon, path }) => (\n          <NavLink to={path} activeClassName={s.active} className={s.item} exact key={path}>\n            <Icon className={s.icon} />\n            <span className={s.text}>{text}</span>\n          </NavLink>\n        ))}\n\n        <button className={s.item} onClick={handleLogoutClick}>\n          <LogoutIcon className={s.icon} />\n          <span className={s.text}>Wyloguj</span>\n        </button>\n      </div>\n\n      <div className={s.playlists}>\n        {playlists && playlists.items.map(playlist => (\n          <NavLink to={reverse(urls.playlist, { id: playlist.id })} className={s.playlist} key={playlist.id}>\n            <img src={playlist.images[0].url} className={s.image} alt={playlist.name} />\n            <p className={s.name}>{playlist.name}</p>\n          </NavLink>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nSidebar.propTypes = {\n  className: propTypes.string,\n}","import api, { updateAuthHeader } from 'api';\nimport { Player } from 'components/Player';\nimport { Sidebar } from 'components/Sidebar';\nimport { useEffect, useLayoutEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { renderRoutes } from 'react-router-config';\nimport { HashRouter } from 'react-router-dom';\nimport { guestRoutes, routes } from 'routes';\nimport {\n  selectAccessToken,\n  selectUserInfo,\n  setUserInfo\n} from 'store/user';\nimport s from './App.module.scss';\n\nconst App = () => {\n  const accessToken = useSelector(selectAccessToken);\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n  const { premium } = useSelector(selectUserInfo);\n\n  useEffect(() => {\n    if (accessToken && !premium) alert('Odtwarzanie muzyki jest dostępne tylko dla użytkowników z kontem premium');\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accessToken]);\n\n  useLayoutEffect(() => {\n    updateAuthHeader(accessToken);\n    setLoading(false);\n  }, [accessToken]);\n\n  useEffect(() => {\n    if (accessToken) {\n      api.user.getMe().then(res => dispatch(setUserInfo(res)));\n    }\n  }, [accessToken, dispatch]);\n\n  return (\n    <HashRouter>\n      <div className={s.container}>\n        {!accessToken ? renderRoutes(guestRoutes) : (!loading) ? (\n          <>\n            <Sidebar className={s.sidebar} />\n            {renderRoutes(routes)}\n            {premium && <Player className={s.player} />}\n          </>\n        ) : null}\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'views/App';\n\nimport '@fontsource/josefin-sans/400.css';\nimport '@fontsource/josefin-sans/600.css';\nimport '@fontsource/josefin-sans/700.css';\nimport 'styles/global.scss';\nimport { Provider } from 'react-redux';\nimport { store } from 'store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistor } from 'store';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: false\n    }\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <QueryClientProvider client={queryClient}>\n          <App />\n        </QueryClientProvider>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TracksList_container__oqsS5\",\"alt\":\"TracksList_alt__2tuD0\",\"header\":\"TracksList_header__EDQyu\",\"tracks\":\"TracksList_tracks__1MSM5\",\"loadingContainer\":\"TracksList_loadingContainer__BwIiK\",\"loading\":\"TracksList_loading__2su43\",\"pagination\":\"TracksList_pagination__3ZKAi\",\"page\":\"TracksList_page__2FZ1G\",\"current\":\"TracksList_current__1FKyO\",\"center\":\"TracksList_center__3Gl72\",\"clockIcon\":\"TracksList_clockIcon__3Os2R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Track_container__m4zoD\",\"alt\":\"Track_alt__MMmak\",\"index\":\"Track_index__19I5_\",\"title\":\"Track_title__35WdG\",\"cover\":\"Track_cover__3nZi0\",\"name\":\"Track_name__ItDeF\",\"artists\":\"Track_artists__3RvKi\",\"album\":\"Track_album__3gEQS\",\"added\":\"Track_added__3XCID\",\"duration\":\"Track_duration__1arYy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__g_hEh\",\"pageTitle\":\"HomePage_pageTitle__3Qli4\",\"loadingWrapper\":\"HomePage_loadingWrapper__1hY4A\",\"loading\":\"HomePage_loading__1WsQV\",\"featuredPlaylists\":\"HomePage_featuredPlaylists__3H6Nd\",\"playlist\":\"HomePage_playlist__1vEVz\",\"name\":\"HomePage_name__1JTn0\",\"image\":\"HomePage_image__2eDXU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LoginPage_container__3wYbz\",\"appHeader\":\"LoginPage_appHeader__QlHbO\",\"logo\":\"LoginPage_logo__1x6xh\",\"appTitle\":\"LoginPage_appTitle__1VoUs\",\"info\":\"LoginPage_info__1G-Yz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchPage_container__2sWDT\",\"pageTitle\":\"SearchPage_pageTitle__1SKYX\",\"searchBar\":\"SearchPage_searchBar__d15pk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__QZFIe\",\"player\":\"App_player__27rGU\",\"sidebar\":\"App_sidebar__U4-k2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FavouritesPage_container__3H0eE\",\"pageTitle\":\"FavouritesPage_pageTitle__3Dbpl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PlaylistPage_container__30yPv\",\"pageTitle\":\"PlaylistPage_pageTitle__2nk3d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__oktDX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__LwMAv\"};"],"sourceRoot":""}